import{q as _,u as y}from"./B-GY23he.js";import{D as w,_ as b,V as k}from"./Cuc9Zfu7.js";import{S as x}from"./Dy7CESTe.js";import{c as m}from"./cve-lzbr.js";import{V as E}from"./CmFbPU8L.js";import{r as f,k as h,f as S,l as V,q as A,g as B,w as q,o as e,b as r,c as l,h as C}from"./C_V3QOGJ.js";import"./CdnC7oAK.js";import"./D1DXdQ9i.js";import"./C52CURbo.js";import"./WO1tszi_.js";import"./DF58bc2X.js";import"./B_wa_0oN.js";import"./CFqgnv7v.js";/* empty css        */import"./CINA2u-a.js";import"./aJsuEaGc.js";import"./BhZtn-n7.js";const R={key:0,class:"d-flex flex-row justify-center ma-16"},T={key:1},D={key:0},G={key:1,class:"text-center"},tt={__name:"blogs",async setup(L){let o,p;const n=f(!1),a=f(1),i=f(0),g=h(()=>i.value===0?1:Math.ceil(i.value/m.POSTS_PER_PAGE)),v=async c=>{n.value=!0;let t=null;try{t=await _("/blog").where({status:"published"}).sort({"dates.published":-1}).skip((c-1)*m.POSTS_PER_PAGE).limit(m.POSTS_PER_PAGE).find()}catch(u){console.log("Error:",u)}finally{n.value=!1}return t},{data:s,refresh:d}=([o,p]=S(()=>y("blogPostList",()=>v(a.value))),o=await o,p(),o),P=h(()=>!!(s.value&&s.value.length>0));return V(async()=>{s.value||d(),i.value=await _("/blog").where({status:"published"}).count()}),A(a,async c=>{d()}),(c,t)=>(e(),B(E,{class:"main-container w-66"},{default:q(()=>[r(x,{title:"Recent Blog Posts",icon:"fa-solid fa-quote-left",class:"mb-5"}),n.value?(e(),l("div",R,[r(w)])):(e(),l("div",T,[P.value?(e(),l("div",D,[r(b,{articles:C(s)},null,8,["articles"]),r(k,{length:g.value,modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=u=>a.value=u),"next-icon":"fa-solid fa-caret-right","prev-icon":"fa-solid fa-caret-left",rounded:"lg",color:"grey","active-color":"primary"},null,8,["length","modelValue"])])):(e(),l("p",G,"No blog posts."))]))]),_:1}))}};export{tt as default};
