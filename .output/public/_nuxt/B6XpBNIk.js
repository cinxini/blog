import{u as P,q as f}from"./B-GY23he.js";import{D as y,_ as g,V as w}from"./Cuc9Zfu7.js";import{S as j}from"./Dy7CESTe.js";import{c as u}from"./cve-lzbr.js";import{V as k}from"./CmFbPU8L.js";import{r as m,k as d,l as E,q as S,g as V,w as x,o as t,b as r,c as s,h as b}from"./C_V3QOGJ.js";import"./CdnC7oAK.js";import"./D1DXdQ9i.js";import"./C52CURbo.js";import"./WO1tszi_.js";import"./DF58bc2X.js";import"./B_wa_0oN.js";import"./CFqgnv7v.js";/* empty css        */import"./CINA2u-a.js";import"./aJsuEaGc.js";import"./BhZtn-n7.js";const A={key:0,class:"d-flex flex-row justify-center ma-16"},R={key:1},T={key:0},q={key:1,class:"text-center"},X={__name:"projects",setup(B){const l=m(!1),o=m(1),i=m(0),_=d(()=>i.value===0?1:Math.ceil(i.value/u.POSTS_PER_PAGE)),h=async n=>{l.value=!0;let e=null;try{e=await f("/project").where({status:"published"}).sort({"dates.published":-1}).skip((n-1)*u.POSTS_PER_PAGE).limit(u.POSTS_PER_PAGE).find()}catch(c){console.log("Error:",c)}finally{l.value=!1}return e},{data:a,refresh:p}=P("projectList",()=>h(o.value)),v=d(()=>!!(a.value&&a.value.length>0));return E(async()=>{a.value||p(),i.value=await f("/project").where({status:"published"}).count()}),S(o,async n=>{p()}),(n,e)=>(t(),V(k,{class:"w-66 main-container"},{default:x(()=>[r(j,{title:"Recent Projects",icon:"fa-solid fa-code",class:"mb-5"}),l.value?(t(),s("div",A,[r(y)])):(t(),s("div",R,[v.value?(t(),s("div",T,[r(g,{articles:b(a)},null,8,["articles"]),r(w,{length:_.value,modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=c=>o.value=c),"next-icon":"fa-solid fa-caret-right","prev-icon":"fa-solid fa-caret-left",rounded:"lg",color:"grey","active-color":"primary"},null,8,["length","modelValue"])])):(t(),s("p",q,"No projects."))]))]),_:1}))}};export{X as default};
